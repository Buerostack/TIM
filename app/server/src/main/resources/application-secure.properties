# TIM Security-Enhanced Configuration
# Use this configuration for schema isolation

server.port=8085

# Primary DataSource (for introspection service)
spring.datasource.url=jdbc:postgresql://postgres:5432/tim
spring.datasource.username=tim
spring.datasource.password=123
spring.datasource.hikari.maximum-pool-size=5

# Custom JWT DataSource - restricted to custom_jwt schema
spring.datasource.custom-jwt.url=jdbc:postgresql://postgres:5432/tim
spring.datasource.custom-jwt.username=tim_custom_jwt
spring.datasource.custom-jwt.password=custom_jwt_secure_pass
spring.datasource.custom-jwt.hikari.maximum-pool-size=3

# Auth DataSource - restricted to auth schema
spring.datasource.auth.url=jdbc:postgresql://postgres:5432/tim
spring.datasource.auth.username=tim_auth
spring.datasource.auth.password=auth_secure_pass
spring.datasource.auth.hikari.maximum-pool-size=3

# JPA Configuration
spring.jpa.hibernate.ddl-auto=none
spring.jpa.open-in-view=false

# JWT Signature Configuration
jwt.signature.key-store=file:/opt/tim/jwtkeystore.jks
jwt.signature.key-store-password=changeme
jwt.signature.key-store-type=JKS
jwt.signature.key-alias=jwtsign

# TARA/OAuth2 Configuration
tara.oidc.enabled=false

# JWT Custom Configuration
jwt.custom.issuer=TIM
jwt.custom.audience.validation.enabled=false
jwt.custom.audience.allowed=
jwt.custom.audience.default=tim-service

# Security Logging
logging.level.org.springframework.security=DEBUG
logging.level.org.springframework.transaction=DEBUG